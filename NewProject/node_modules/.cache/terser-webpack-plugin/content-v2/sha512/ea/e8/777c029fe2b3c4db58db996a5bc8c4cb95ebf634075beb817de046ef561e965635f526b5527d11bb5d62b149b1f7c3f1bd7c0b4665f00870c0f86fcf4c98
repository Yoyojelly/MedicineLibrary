{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var c=t[i]={i:i,l:!1,exports:{}};return e[i].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var c in e)n.d(i,c,function(t){return e[t]}.bind(null,c));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class i{constructor(){this.spbh=\"\",this.pzwh=\"\",this.yspm=\"\",this.tym=\"\",this.jx=\"\",this.spm=\"\",this.scdw=\"\",this.jglb=\"\",this.ywlb=\"\",this.smssyz=\"\",this.smsyfyl=\"\",this.fyyjs=\"\",this.smssjz=\"\",this.blfy=\"\",this.ywxhzy=\"\",this.xxly=\"\",this.ywcf=\"\"}addData(e){this.spbh=e.spbh,this.pzwh=e.pzwh,this.jx=e.jx,this.spm=e.spm,this.scdw=e.scdw,this.xxly=e.xxly,this.ywcf=e.ywcf,this.smssyz=e.smssyz,this.smsyfyl=e.smsyfyl,this.smsjjz=e.smsjjz,this.blfy=e.blfy,this.ywxhzy=e.ywxhzy,this.tsrqyy=e.tsrqyy}}class c{constructor(){this.ggmc=\"\",this.bzsj=\"\",this.bzdw=\"\"}addData(e){this.ggmc=e.ggmc,this.bzsj=e.bzsj,this.bzdw=e.bzdw}}class s{constructor(){this.syzbh=\"\",this.syzmc=\"\"}addData(e){this.syzbh=e.syzbh,this.syzmc=e.syzmc}}class r{constructor(){this.jjzbh=\"\",this.jjzmc=\"\"}addData(e){this.jjzbh=e.jjzbh,this.jjzmc=e.jjzmc}}class d{constructor(){this.blfybh=\"\",this.blfymc=\"\"}addData(e){this.blfybh=e.blfybh,this.blfymc=e.blfymc}}class o{constructor(){this.xhzybh=\"\",this.spbh1=\"\",this.spbh2=\"\",this.zyxg=\"\"}addData(e){this.xhzybh=e.xhzybh,this.spbh1=e.spbh1,this.spbh2=e.spbh2,this.zyxg=e.zyxg}}class h{constructor(){this.rqlx=\"\",this.yysm=\"\"}addData(e){this.rqlx=e.rqlx,this.yysm=e.yysm}}!function(){null!=document.querySelector(\"#left-tymk\")&&(document.querySelector(\"#left-tymk\").addEventListener(\"click\",()=>g(\"tymk\",\"通用名库\")),document.querySelector(\"#left-tymk\").addEventListener(\"click\",()=>a.active=!0));null!=document.querySelector(\"#left-yhgl\")&&(document.querySelector(\"#left-yhgl\").addEventListener(\"click\",()=>g(\"yhgl\",\"用户管理\")),document.querySelector(\"#left-yhgl\").addEventListener(\"click\",()=>f.active=!0));null!=document.querySelector(\"#left-qxzgl\")&&(document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>g(\"qxzgl\",\"权限组管理\")),document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>w.active=!0),document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>G()));null!=document.querySelector(\"#left-cdgl\")&&document.querySelector(\"#left-cdgl\").addEventListener(\"click\",()=>g(\"cdgl\",\"菜单管理\"));null!=document.querySelector(\"#left-qxcd\")&&document.querySelector(\"#left-qxcd\").addEventListener(\"click\",()=>g(\"qxcd\",\"权限菜单\"))}();var l=new Vue({el:\"#topnav\",data:{navs:[]},methods:{dbClickCutTab:e=>{Y(e,\"indextab\")}}}),a=(new Vue({el:\"#index\",data:{}}),new Vue({el:\"#tymk\",data:{tymlist:[],medicineName:\"\",tymd:\"\",tymz:\"\",tymx:\"\",currentTym:\"\",active:!1},watch:{medicineName:function(e,t){this.debounceGetMedicines()},tymd:function(e,t){this.debounceGetMedicines()},tymz:function(e,t){this.debounceGetMedicines()},tymx:function(e,t){this.debounceGetMedicines()}},created:function(){this.debounceGetMedicines=_.debounce(this.getMedicines,1e3)},methods:{toXgct:function(e){m.active=!0,g(\"xgct\",\"修改词条\");let t=new FormData;t.append(\"medicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{m.medicine=e[0]}),getTymkData(m)},getMedicines:function(){let e=new FormData;e.append(\"MedicineName\",this.medicineName),e.append(\"tymd\",this.tymd),e.append(\"tymz\",this.tymz),e.append(\"tymx\",this.tymx),fetch(\"/medicines/cxMedicines\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{a.tymlist=e})},tymTrClick:function(e){this.currentTym=e},deleteMedicine:function(){\"\"!=this.currentTym?fetch(\"/Medicines/deleteMedicine/\"+this.currentTym).then(e=>e.json()).then(e=>{\"1\"==e?refreshTymk():\"2\"==e&&alert(\"删除失败\")}):console.log(\"请选择要删除的药品\")},toSpxx:function(e){S.active=!0,g(\"spxx\",\"商品信息\"),S.medicineID=e;let t=new FormData;t.append(\"MedicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{S.medicine=e[0]}),Z(e),J(e)}}})),u=new Vue({el:\"#xzct\",data:{tymds:[],tymzs:[],tymxs:[],jglbs:[],ywlbs:[],active:!1}}),m=new Vue({el:\"#xgct\",data:{medicine:{},tymds:[],tymzs:[],tymxs:[],jglbs:[],ywlbs:[],active:!1}}),S=new Vue({el:\"#spxx\",data:{active:!1,cxmedicineName:\"\",cxmedicineFirm:\"\",medicine:{},sps:[],bzct:\"\",currentSp:\"\"},watch:{cxmedicineName:function(e,t){this.debounceGetSps()},cxmedicineFirm:function(e,t){this.debounceGetSps()}},methods:{toAddProductTab:function(){y.active=!0,y.medicineID=this.medicine.medicineID,D(),g(\"tjspxq\",\"添加商品详情\")},alterSpxq:function(e){y.active=!0,y.isTjNoAlter=!1,y.medicineID=this.medicine.medicineID,function(e){fetch(\"/SPZSJs/fetchSPdata/\"+e).then(e=>e.json()).then(t=>{D(),y.isTjNoAlter=!1,y.formData.append(\"spbh\",e),null!=t.spzsj&&(y.medicineID=t.spzsj.medicineID,y.SPZSJ=t.spzsj),null!=t.spgg&&(y.SPGG=t.spgg),null!=t.spjjz&&(y.SPJJZ=t.spjjz),null!=t.spblfy&&(y.SPBLFY=t.spblfy),null!=t.spywxhzy&&(y.SPYWXHZY=t.spywxhzy),null!=t.sptsrqyy&&(y.SPTSRQYY=t.sptsrqyy),null!=t.spsyz&&(y.SPSYZ=t.spsyz),null!=t.spywxhzy&&(y.SPYWXHZY=t.spywxhzy)})}(e),g(\"tjspxq\",\"添加商品详情\")},deleteSp:function(){fetch(\"/SPZSJs/deleteSp/\"+this.currentSp).then(e=>e.json()).then(e=>{1==e?refreshSpxx():alert(\"删除失败\")})},getSps:function(){let e=new FormData;e.append(\"medicineID\",this.medicine.medicineID),e.append(\"medicineName\",this.cxmedicineName),e.append(\"medicineFirm\",this.cxmedicineFirm),fetch(\"/SPZSJs/fetchMedicineByNameAndFirm\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{this.sps=e})}},created:function(){this.debounceGetSps=_.debounce(this.getSps,1e3)}}),y=new Vue({el:\"#tjspxq\",data:{isTjNoAlter:!0,active:!1,medicineID:\"\",SPZSJ:new i,isSPZSJ:!0,alterSPZSJ:!1,SPGG:new c,isSPGG:!1,alterSPGG:!1,SPSYZ:new s,isSPSYZ:!1,alterSPSYZ:!1,SPJJZ:new r,isSPJJZ:!1,alterSPJJZ:!1,SPBLFY:new d,isSPBLFY:!1,alterSPBLFY:!1,SPYWXHZY:new o,isSPYWXHZY:!1,alterSPYWXHZY:!1,SPTSRQYY:new h,isSPTSRQYY:!1,alterSPTSRQYY:!1,isYFYL:!1,isStandard:!1,isCheck:!1,formData:new FormData},methods:{checkState:function(){this.isSPZSJ&&this.isSPGG&&this.isSPSYZ&&this.isSPBLFY&&this.isSPJJZ&&this.isSPYWXHZY&&this.isSPTSRQYY&&this.isYFYL||(alert(\"请检查所有词条\"),this.isCheck=!1)},saveSpxq:function(){if(function(){null==y.SPGG.GGMC&&null==y.SPGG.BZSL&&null==y.SPGG.BZDW||(y.alterSPGG=!0);null!=y.SPSYZ.SYZBH&&(y.alterSPSYZ=!0);null!=y.SPJJZ.JJZMC&&(y.alterSPJJZ=!0);null!=y.SPJJZ.JJZMC&&(y.alterSPJJZ=!0);\"\"!=y.SPYWXHZY.spbh1&&\"\"!=y.SPYWXHZY.spbh2&&(y.SPYWXHZY.spbh1==y.SPZSJ.spbh||y.SPYWXHZY.spbh2==y.SPZSJ.spbh?y.alterSPYWXHZY=!0:alert(\"相互作用：产品1和产品2必须有一个和该商品的id相同。\"))}(),this.isCheck)switch(y.formData.append(\"PZWH\",y.SPZSJ.pzwh),y.formData.append(\"JX\",y.SPZSJ.jx),y.formData.append(\"SPM\",y.SPZSJ.spm),y.formData.append(\"SCDW\",y.SPZSJ.scdw),y.formData.append(\"XXLY\",y.SPZSJ.xxly),y.formData.append(\"isStandard\",y.SPZSJ.isStandard),y.formData.append(\"YWCF\",y.SPZSJ.ywcf),y.formData.append(\"SMSSYZ\",y.SPZSJ.smssyz),y.formData.append(\"SMSJJZ\",y.SPZSJ.smsjjz),y.formData.append(\"SMSYFYL\",y.SPZSJ.smsyfyl),y.formData.append(\"BLFY\",y.SPZSJ.blfy),y.formData.append(\"medicineID\",y.medicineID),y.formData.append(\"alterSpzsj\",!0),y.formData.append(\"bzct\",y.isStandard),function(){\"\"!=y.SPGG.ggmc&&y.formData.append(\"GGMC\",y.SPGG.ggmc);\"\"!=y.SPGG.bzsl&&y.formData.append(\"BZSL\",y.SPGG.bzsl);\"\"!=y.SPGG.bzdw&&y.formData.append(\"BZDW\",y.SPGG.bzdw);\"\"==y.SPGG.ggmc&&\"\"==y.SPGG.bzsl&&\"\"==y.SPGG.bzdw||y.formData.append(\"alterSPGG\",!0)}(),\"\"!=y.SPSYZ.SYZMC&&(y.formData.append(\"SYZMC\",y.SPSYZ.syzmc),y.formData.append(\"alterSPSYZ\",!0)),\"\"!=y.SPJJZ.JJZMC&&(y.formData.append(\"JJZMC\",y.SPJJZ.jjzmc),y.formData.append(\"alterSPJJZ\",!0)),\"\"!=y.SPBLFY.BLFYMC&&(y.formData.append(\"BLFYMC\",y.SPBLFY.blfymc),y.formData.append(\"alterSPBLFY\",!0)),function(){\"\"!=y.SPYWXHZY.SPBH1&&y.formData.append(\"SPBH1\",y.SPYWXHZY.spbh1);\"\"!=y.SPYWXHZY.SPBH2&&y.formData.append(\"SPBH2\",y.SPYWXHZY.spbh2);\"\"!=y.SPYWXHZY.ZYXG&&y.formData.append(\"ZYXG\",y.SPYWXHZY.zyxg);y.formData.append(\"alterSPYWXHZY\",y.alterSPYWXHZY)}(),function(){\"\"!=y.SPTSRQYY.RQLX&&y.formData.append(\"RQLX\",y.SPTSRQYY.rqlx);\"\"!=y.SPTSRQYY.YYSM&&y.formData.append(\"YYSM\",y.SPTSRQYY.yysm);\"\"==y.SPTSRQYY.YYSM&&\"\"==y.SPTSRQYY.RQLX||y.formData.append(\"alterSPTSRQYY\",!0)}(),this.isTjNoAlter){case!0:console.log(\"正在添加数据。\"),fetch(\"/SPZSJs/saveSpzsj\",{method:\"post\",body:this.formData}).then(e=>e.json()).then(e=>{1==e&&(Y(\"tjspxqtab\",\"spxxtab\"),D(),refreshSpxx())});break;case!1:fetch(\"/SPZSJs/alterSpzsj\",{method:\"post\",body:this.formData}).then(e=>e.json()).then(e=>{1==e&&(Y(\"tjspxqtab\",\"spxxtab\"),D(),refreshSpxx())})}else console.log(\"没有确认状态\")}}}),f=new Vue({el:\"#yhgl\",data:{active:!1,users:[],currentUser:\"\",currentPower:\"\",powers:[]},watch:{active:function(){p()},currentUser:function(){var e;e=f.currentPower,fetch(\"/Home/fetchPowers/\"+e).then(e=>e.json()).then(e=>{f.powers=e})}},methods:{userClick:function(e,t){this.currentUser=e,this.currentPower=t},addNewYh:function(){P.active=!0,v(),g(\"xzyh\",\"新增用户\"),P.isAddNotAlter=!0,k()},alterYh:function(){var e;P.active=!0,g(\"xzyh\",\"新增用户\"),P.isAddNotAlter=!1,P.currentUser=this.currentUser,k(),e=this.currentUser,fetch(\"/Users/fetchUserById/\"+e).then(e=>e.json()).then(e=>{P.user=e})},deleteYh:function(){this.currentUser&&fetch(\"/Users/deleteUser/\"+this.currentUser).then(e=>e.json()).then(e=>{1==e&&(console.log(\"删除成功\"),p())})}}}),P=new Vue({el:\"#xzyh\",data:{active:!1,isAddNotAlter:!0,currentUser:\"\",currentPowerTeamName:\"\",isDisable:!1,user:{user_code:\"\",user_name:\"\",zzjg_code:\"\",user_explain:\"\",isDisable:0,powerID:\"\"},powers:{}},watch:{user:function(){0==this.user.isDisable?this.isDisable=!1:this.isDisable=!0;for(let e=0;e<this.powers.length;e++)this.powers[e].powerID==this.user.powerID&&(this.currentPowerTeamName=this.powers[e].powerTeamName)}},methods:{saveUser:function(){if(this.isAddNotAlter){let e=new FormData;e.append(\"user_code\",this.user.user_code),e.append(\"user_name\",this.user.user_name),e.append(\"zzjg_code\",this.user.zzjg_code),e.append(\"user_explain\",this.user.user_explain),1==this.isDisable?e.append(\"isDisable\",1):e.append(\"isDisable\",0),e.append(\"powerID\",document.querySelector(\"#xzyhPowerSelect\").value),fetch(\"/Users/addUser\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{console.log(e),1==e&&(p(),Y(\"xzyhtab\",\"yhgltab\"),v())})}else{let e=new FormData;e.append(\"userID\",this.currentUser),e.append(\"user_code\",this.user.user_code),e.append(\"user_name\",this.user.user_name),e.append(\"zzjg_code\",this.user.zzjg_code),e.append(\"user_explain\",this.user.user_explain),1==this.isDisable?e.append(\"isDisable\",1):e.append(\"isDisable\",0),e.append(\"powerID\",this.user.powerID),fetch(\"/Users/alterUser\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{1==e&&(p(),Y(\"xzyhtab\",\"yhgltab\"),v())})}},refreshUser:function(){},resetPwd:function(){}}}),w=new Vue({el:\"#qxzgl\",data:{active:!1,currentPower:\"\",powers:[],newPower:{powerTeamName:\"\",tymk:!1,yygl:!1,qxzgl:!1,cdgl:!1,qxcd:!1}},watch:{powers:function(){console.log(this.powers[0].tymk);for(let e=0;e<this.powers.length;e++)1==this.powers[e].tymk?this.powers[e].tymk=!0:0==this.powers[e].tymk&&(this.powers[e].tymk=!1),1==this.powers[e].yygl?this.powers[e].yygl=!0:0==this.powers[e].yygl&&(this.powers[e].yygl=!1),1==this.powers[e].qxzgl?this.powers[e].qxzgl=!0:0==this.powers[e].qxzgl&&(this.powers[e].qxzgl=!1),1==this.powers[e].cdgl?this.powers[e].cdgl=!0:0==this.powers[e].cdgl&&(this.powers[e].cdgl=!1),1==this.powers[e].qxcd?this.powers[e].qxcd=!0:0==this.powers[e].qxcd&&(this.powers[e].qxcd=!1)}},methods:{savePower:function(){if(\"new\"!=this.currentPower){let e;for(let t=0;t<this.powers.length;t++)this.powers[t].powerID==this.currentPower&&(e=this.powers[t]);1==e.tymk?e.tymk=1:e.tymk=0,1==e.cdgl?e.cdgl=1:e.cdgl=0,1==e.qxcd?e.qxcd=1:e.qxcd=0,1==e.yygl?e.yygl=1:e.yygl=0,1==e.qxzgl?e.qxzgl=1:e.qxzgl=0;let t=new FormData;t.append(\"tymk\",e.tymk),t.append(\"cdgl\",e.cdgl),t.append(\"qxcd\",e.qxcd),t.append(\"yygl\",e.yygl),t.append(\"qxzgl\",e.qxzgl),t.append(\"powerID\",e.powerID),fetch(\"/Users/alterPower\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{console.log(e)})}else{1==this.newPower.tymk?this.newPower.tymk=1:this.newPower.tymk=0,1==this.newPower.cdgl?this.newPower.cdgl=1:this.newPower.cdgl=0,1==this.newPower.qxcd?this.newPower.qxcd=1:this.newPower.qxcd=0,1==this.newPower.yygl?this.newPower.yygl=1:this.newPower.yygl=0,1==this.newPower.qxzgl?this.newPower.qxzgl=1:this.newPower.qxzgl=0;let e=new FormData;e.append(\"tymk\",this.newPower.tymk),e.append(\"cdgl\",this.newPower.cdgl),e.append(\"qxcd\",this.newPower.qxcd),e.append(\"qxzgl\",this.newPower.qxzgl),e.append(\"yygl\",this.newPower.yygl),e.append(\"name\",this.newPower.powerTeamName),fetch(\"/Users/addNewPower\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{console.log(e)})}},refreshPower:function(){G(),console.log(\"更新完成\")},deletePower:function(){\"new\"!=this.currentPower&&fetch(\"/Users/deletePower/\"+this.currentPower).then(e=>e.json()).then(e=>{1==e&&this.refreshPower()})}}});function g(e,t){b(l.navs,{id:`${e}tab`,href:`#${e}`,text:t})&&l.navs.push({id:`${e}tab`,href:`#${e}`,text:t}),setTimeout(()=>{document.querySelector(`#${e}tab`).click()},10)}function b(e,t){for(let n=0;n<=e.length;n++)if(e[n]==t||JSON.stringify(e[n])==JSON.stringify(t))return!1;return!0}function z(){fetch(\"/Medicines/fetchMedicines\",{method:\"post\"}).then(function(e){return e.json()}).then(function(e){a.tymlist=e})}function Y(e,t){let n=l.navs;for(let t=0;t<n.length;t++)n[t].id==e&&n.splice(t,1);document.querySelector(`#${t}`).click()}function p(){fetch(\"/Home/fetchUsers\").then(e=>e.json()).then(e=>{f.users=e})}function Z(e){fetch(\"/SPZSJs/fetchSPZSJ/\"+e).then(e=>e.json()).then(e=>{S.sps=e})}function J(e){fetch(\"/SPZSJs/fetchSPBZCT/\"+e).then(e=>e.json()).then(e=>{S.bzct=e})}function D(){y.isTjNoAlter=!0,y.medicineID=\"\",y.SPZSJ=new i,y.isSPZSJ=!0,y.alterSPZSJ=!1,y.SPGG=new c,y.isSPGG=!1,y.alterSPGG=!1,y.SPSYZ=new s,y.isSPSYZ=!1,y.alterSPSYZ=!1,y.SPJJZ=new r,y.isSPJJZ=!1,y.alterSPJJZ=!1,y.SPBLFY=new d,y.isSPBLFY=!1,y.alterSPBLFY=!1,y.SPYWXHZY=new o,y.isSPYWXHZY=!1,y.alterSPYWXHZY=!1,y.SPTSRQYY=new h,y.isSPTSRQYY=!1,y.alterSPTSRQYY=!1,y.isYFYL=!1,y.isStandard=!1,y.isCheck=!1,y.formData=new FormData}function v(){P.isAddNotAlter=!0,P.currentUser=\"\",P.currentPowerTeamName=\"\",P.isDisable=!1,P.user={user_code:\"\",user_name:\"\",zzjg_code:\"\",user_explain:\"\",isDisable:0,powerID:\"\"},P.powers={}}function k(){fetch(\"/Users/fetchPowers\").then(e=>e.json()).then(e=>{P.powers=e})}function G(){fetch(\"/Users/fetchAllPowers\").then(e=>e.json()).then(e=>{w.powers=e})}window.getTymkData=function(e){fetch(\"/Medicines/fetchTymd\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.tymds=t}),fetch(\"/Medicines/fetchTymlb\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.ywlbs=t}),fetch(\"/Medicines/fetchJglb\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.jglbs=t})},window.tymdSelected=function(e){switch(e){case\"xgct\":var t=document.querySelector(\"#xgctForm\").elements.tymd.value;break;case\"xzct\":t=document.querySelector(\"#xzctForm\").elements.tymd.value;break;default:return void console.log(\"未知错误\")}fetch(`/Medicines/fetchTymz/${t}`,{method:\"get\"}).then(function(e){return e.json()}).then(function(t){\"xgct\"==e?m.tymzs=t:u.tymzs=t})},window.tymxSelected=function(e){switch(e){case\"xgct\":var t=document.querySelector(\"#xgctForm\").elements.tymz.value;break;case\"xzct\":t=document.querySelector(\"#xzctForm\").elements.tymz.value;break;default:return void console.log(\"未知错误\")}fetch(`/Medicines/fetchTymx/${t}`,{method:\"get\"}).then(function(e){return e.json()}).then(function(t){\"xgct\"==e?m.tymxs=t:u.tymxs=t})},window.addNew=function(){b(l.navs,{id:\"xzcttab\",href:\"#xzct\",text:\"新增词条\"})&&(l.navs.push({id:\"xzcttab\",href:\"#xzct\",text:\"新增词条\"}),u.active=!0,getTymkData(u)),setTimeout(()=>{document.querySelector(\"#xzcttab\").click()},10)},window.saveMedicine=function(){let e=document.querySelector(\"#xzctForm\"),t=new FormData(e);fetch(\"/Medicines/addTym\",{method:\"post\",body:t}).then(function(e){return e.json()}).then(function(t){z(),e.reset(),refreshTymk(),Y(\"xzcttab\",\"tymktab\")})},window.cgPwd=function(e){var t=document.querySelector(\"#newPwd\").value,n=document.querySelector(\"#newPwdAgain\").value;let i=document.querySelector(\"#alterPwd\"),c=new FormData(i);t!=n?alert(\"两次输入密码不一致\"):fetch(\"/Home/toAlterPwd\",{method:\"post\",body:c}).then(function(e){return e.json()}).then(function(e){\"0\"==e?alert(\"修改成功\"):alert(\"修改失败\")})},window.refreshTymk=function(){z(),a.currentTym=\"\"},window.tymkClick=function(){a.active=!0,g(\"tymk\",\"通用名库\")},window.xgctSave=function(){let e=document.querySelector(\"#xgctForm\"),t=new FormData(e);t.get(\"medicineName\")==m.medicine.medicineName&&t.get(\"tymd\")==m.medicine.dlid&&t.get(\"tymz\")==m.medicine.zlid&&t.get(\"tymx\")==m.medicine.xlid&&t.get(\"ywlb\")==m.medicine.lbid&&t.get(\"jglb\")==m.medicine.jglbid?console.log(\"没有改动\"):(t.append(\"medicineID\",m.medicine.medicineID),fetch(\"/medicines/alterMedicine\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{\"1\"==e?(Y(\"xgcttab\",\"tymktab\"),refreshTymk()):\"2\"==e&&alert(\"修改出错了\")}))},window.refreshSpxx=function(){var e=S.medicine.medicineID;let t=new FormData;t.append(\"MedicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{S.medicine=e[0]}),Z(e),J(e)},z()}]);","extractedComments":[]}