{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class i{constructor(){this.spbh=\"\",this.pzwh=\"\",this.yspm=\"\",this.tym=\"\",this.jx=\"\",this.spm=\"\",this.scdw=\"\",this.jglb=\"\",this.ywlb=\"\",this.smssyz=\"\",this.smsyfyl=\"\",this.fyyjs=\"\",this.smssjz=\"\",this.blfy=\"\",this.ywxhzy=\"\",this.xxly=\"\",this.ywcf=\"\"}addData(e){this.spbh=e.spbh,this.pzwh=e.pzwh,this.jx=e.jx,this.spm=e.spm,this.scdw=e.scdw,this.xxly=e.xxly,this.ywcf=e.ywcf,this.smssyz=e.smssyz,this.smsyfyl=e.smsyfyl,this.smsjjz=e.smsjjz,this.blfy=e.blfy,this.ywxhzy=e.ywxhzy,this.tsrqyy=e.tsrqyy}}!function(){null!=document.querySelector(\"#left-tymk\")&&(document.querySelector(\"#left-tymk\").addEventListener(\"click\",()=>u(\"tymk\",\"通用名库\")),document.querySelector(\"#left-tymk\").addEventListener(\"click\",()=>c.active=!0));null!=document.querySelector(\"#left-yhgl\")&&(document.querySelector(\"#left-yhgl\").addEventListener(\"click\",()=>u(\"yhgl\",\"用户管理\")),document.querySelector(\"#left-yhgl\").addEventListener(\"click\",()=>l.active=!0));null!=document.querySelector(\"#left-qxzgl\")&&(document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>u(\"qxzgl\",\"权限组管理\")),document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>a.active=!0),document.querySelector(\"#left-qxzgl\").addEventListener(\"click\",()=>z()));null!=document.querySelector(\"#left-cdgl\")&&document.querySelector(\"#left-cdgl\").addEventListener(\"click\",()=>u(\"cdgl\",\"菜单管理\"));null!=document.querySelector(\"#left-qxcd\")&&document.querySelector(\"#left-qxcd\").addEventListener(\"click\",()=>u(\"qxcd\",\"权限菜单\"))}(),console.log(i);new Vue({el:\"#leftNav\",data:{isCollapse:!0},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}},components:{\"el-radio-group\":el-radio-group}});var s=new Vue({el:\"#topnav\",data:{navs:[]},methods:{dbClickCutTab:e=>{P(e,\"indextab\")}}}),c=(new Vue({el:\"#index\",data:{}}),new Vue({el:\"#tymk\",data:{tymlist:[],medicineName:\"\",tymd:\"\",tymz:\"\",tymx:\"\",currentTym:\"\",active:!1},watch:{medicineName:function(e,t){this.debounceGetMedicines()},tymd:function(e,t){this.debounceGetMedicines()},tymz:function(e,t){this.debounceGetMedicines()},tymx:function(e,t){this.debounceGetMedicines()}},created:function(){this.debounceGetMedicines=_.debounce(this.getMedicines,1e3)},methods:{toXgct:function(e){d.active=!0,u(\"xgct\",\"修改词条\");let t=new FormData;t.append(\"medicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{d.medicine=e[0]}),S(d)},getMedicines:function(){let e=new FormData;e.append(\"MedicineName\",this.medicineName),e.append(\"tymd\",this.tymd),e.append(\"tymz\",this.tymz),e.append(\"tymx\",this.tymx),fetch(\"/medicines/cxMedicines\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{c.tymlist=e})},tymTrClick:function(e){this.currentTym=e},deleteMedicine:function(){console.log(this.currentTym),\"\"!=this.currentTym?fetch(\"/Medicines/deleteMedicine/\"+this.currentTym).then(e=>e.json()).then(e=>{\"1\"==e?(m(),c.currentTym=\"\"):\"2\"==e&&alert(\"删除失败\")}):console.log(\"请选择要删除的药品\")},toSpxx:function(e){r.active=!0,u(\"spxx\",\"商品信息\");let t=new FormData;t.append(\"MedicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{r.medicine=e[0]}),w(e),Y(e)}}})),d=(new Vue({el:\"#xzct\",data:{tymds:[],tymzs:[],tymxs:[],jglbs:[],ywlbs:[],active:!1}}),new Vue({el:\"#xgct\",data:{medicine:{},tymds:[],tymzs:[],tymxs:[],jglbs:[],ywlbs:[],active:!1}})),r=new Vue({el:\"#spxx\",data:{active:!1,cxmedicineName:\"\",cxmedicineFirm:\"\",medicine:{},sps:[],bzct:\"\",currentSp:\"\"},watch:{cxmedicineName:function(e,t){this.debounceGetSps()},cxmedicineFirm:function(e,t){this.debounceGetSps()}},methods:{toAddProductTab:function(){o.active=!0,o.medicineID=this.medicine.medicineID,g(),u(\"tjspxq\",\"添加商品详情\")},alterSpxq:function(e){o.active=!0,o.isTjNoAlter=!1,o.medicineID=this.medicine.medicineID,function(e){fetch(\"/SPZSJs/fetchSPdata/\"+e).then(e=>e.json()).then(t=>{g(),o.isTjNoAlter=!1,o.formData.append(\"spbh\",e),null!=t.spzsj&&(o.medicineID=t.spzsj.medicineID,o.SPZSJ=t.spzsj),null!=t.spgg&&(o.SPGG=t.spgg),null!=t.spjjz&&(o.SPJJZ=t.spjjz),null!=t.spblfy&&(o.SPBLFY=t.spblfy),null!=t.spywxhzy&&(o.SPYWXHZY=t.spywxhzy),null!=t.sptsrqyy&&(o.SPTSRQYY=t.sptsrqyy),null!=t.spsyz&&(o.SPSYZ=t.spsyz),null!=t.spywxhzy&&(o.SPYWXHZY=t.spywxhzy)})}(e),u(\"tjspxq\",\"添加商品详情\")},deleteSp:function(){fetch(\"/SPZSJs/deleteSp/\"+this.currentSp).then(e=>e.json()).then(e=>{1==e?b():alert(\"删除失败\")})},getSps:function(){let e=new FormData;e.append(\"medicineID\",this.medicine.medicineID),e.append(\"medicineName\",this.cxmedicineName),e.append(\"medicineFirm\",this.cxmedicineFirm),fetch(\"/SPZSJs/fetchMedicineByNameAndFirm\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{this.sps=e})}},created:function(){this.debounceGetSps=_.debounce(this.getSps,1e3)}}),o=new Vue({el:\"#tjspxq\",data:{isTjNoAlter:!0,active:!1,medicineID:\"\",SPZSJ:new i,isSPZSJ:!0,alterSPZSJ:!1,SPGG:new Spgg,isSPGG:!1,alterSPGG:!1,SPSYZ:new Spsyz,isSPSYZ:!1,alterSPSYZ:!1,SPJJZ:new Spjjz,isSPJJZ:!1,alterSPJJZ:!1,SPBLFY:new Spblfy,isSPBLFY:!1,alterSPBLFY:!1,SPYWXHZY:new Spywxhzy,isSPYWXHZY:!1,alterSPYWXHZY:!1,SPTSRQYY:new Sptsrqyy,isSPTSRQYY:!1,alterSPTSRQYY:!1,isYFYL:!1,isStandard:!1,isCheck:!1,formData:new FormData},methods:{checkState:function(){this.isSPZSJ&&this.isSPGG&&this.isSPSYZ&&this.isSPBLFY&&this.isSPJJZ&&this.isSPYWXHZY&&this.isSPTSRQYY&&this.isYFYL||(alert(\"请检查所有词条\"),this.isCheck=!1)},saveSpxq:function(){if(function(){null==o.SPGG.GGMC&&null==o.SPGG.BZSL&&null==o.SPGG.BZDW||(o.alterSPGG=!0);null!=o.SPSYZ.SYZBH&&(o.alterSPSYZ=!0);null!=o.SPJJZ.JJZMC&&(o.alterSPJJZ=!0);null!=o.SPJJZ.JJZMC&&(o.alterSPJJZ=!0);\"\"!=o.SPYWXHZY.spbh1&&\"\"!=o.SPYWXHZY.spbh2&&(o.SPYWXHZY.spbh1==o.SPZSJ.spbh||o.SPYWXHZY.spbh2==o.SPZSJ.spbh?o.alterSPYWXHZY=!0:alert(\"相互作用：产品1和产品2必须有一个和该商品的id相同。\"))}(),this.isCheck)switch(o.formData.append(\"PZWH\",o.SPZSJ.pzwh),o.formData.append(\"JX\",o.SPZSJ.jx),o.formData.append(\"SPM\",o.SPZSJ.spm),o.formData.append(\"SCDW\",o.SPZSJ.scdw),o.formData.append(\"XXLY\",o.SPZSJ.xxly),o.formData.append(\"isStandard\",o.SPZSJ.isStandard),o.formData.append(\"YWCF\",o.SPZSJ.ywcf),o.formData.append(\"SMSSYZ\",o.SPZSJ.smssyz),o.formData.append(\"SMSJJZ\",o.SPZSJ.smsjjz),o.formData.append(\"SMSYFYL\",o.SPZSJ.smsyfyl),o.formData.append(\"BLFY\",o.SPZSJ.blfy),o.formData.append(\"medicineID\",o.medicineID),o.formData.append(\"alterSpzsj\",!0),o.formData.append(\"bzct\",o.isStandard),function(){\"\"!=o.SPGG.ggmc&&o.formData.append(\"GGMC\",o.SPGG.ggmc);\"\"!=o.SPGG.bzsl&&o.formData.append(\"BZSL\",o.SPGG.bzsl);\"\"!=o.SPGG.bzdw&&o.formData.append(\"BZDW\",o.SPGG.bzdw);\"\"==o.SPGG.ggmc&&\"\"==o.SPGG.bzsl&&\"\"==o.SPGG.bzdw||o.formData.append(\"alterSPGG\",!0)}(),\"\"!=o.SPSYZ.SYZMC&&(o.formData.append(\"SYZMC\",o.SPSYZ.syzmc),o.formData.append(\"alterSPSYZ\",!0)),\"\"!=o.SPJJZ.JJZMC&&(o.formData.append(\"JJZMC\",o.SPJJZ.jjzmc),o.formData.append(\"alterSPJJZ\",!0)),\"\"!=o.SPBLFY.BLFYMC&&(o.formData.append(\"BLFYMC\",o.SPBLFY.blfymc),o.formData.append(\"alterSPBLFY\",!0)),function(){\"\"!=o.SPYWXHZY.SPBH1&&o.formData.append(\"SPBH1\",o.SPYWXHZY.spbh1);\"\"!=o.SPYWXHZY.SPBH2&&o.formData.append(\"SPBH2\",o.SPYWXHZY.spbh2);\"\"!=o.SPYWXHZY.ZYXG&&o.formData.append(\"ZYXG\",o.SPYWXHZY.zyxg);o.formData.append(\"alterSPYWXHZY\",o.alterSPYWXHZY)}(),function(){\"\"!=o.SPTSRQYY.RQLX&&o.formData.append(\"RQLX\",o.SPTSRQYY.rqlx);\"\"!=o.SPTSRQYY.YYSM&&o.formData.append(\"YYSM\",o.SPTSRQYY.yysm);\"\"==o.SPTSRQYY.YYSM&&\"\"==o.SPTSRQYY.RQLX||o.formData.append(\"alterSPTSRQYY\",!0)}(),this.isTjNoAlter){case!0:console.log(\"正在添加数据。\"),fetch(\"/SPZSJs/saveSpzsj\",{method:\"post\",body:this.formData}).then(e=>e.json()).then(e=>{1==e&&(P(\"tjspxqtab\",\"spxxtab\"),g(),b())});break;case!1:fetch(\"/SPZSJs/alterSpzsj\",{method:\"post\",body:this.formData}).then(e=>e.json()).then(e=>{1==e&&(P(\"tjspxqtab\",\"spxxtab\"),g(),b())})}else console.log(\"没有确认状态\")}}}),l=new Vue({el:\"#yhgl\",data:{active:!1,users:[],currentUser:\"\",currentPower:\"\",powers:[]},watch:{active:function(){f()},currentUser:function(){var e;e=l.currentPower,fetch(\"/Home/fetchPowers/\"+e).then(e=>e.json()).then(e=>{l.powers=e})}},methods:{userClick:function(e,t){this.currentUser=e,this.currentPower=t},addNewYh:function(){h.active=!0,p(),u(\"xzyh\",\"新增用户\"),h.isAddNotAlter=!0,Z()},alterYh:function(){var e;h.active=!0,u(\"xzyh\",\"新增用户\"),h.isAddNotAlter=!1,h.currentUser=this.currentUser,Z(),e=this.currentUser,fetch(\"/Users/fetchUserById/\"+e).then(e=>e.json()).then(e=>{h.user=e})},deleteYh:function(){this.currentUser&&fetch(\"/Users/deleteUser/\"+this.currentUser).then(e=>e.json()).then(e=>{1==e&&(console.log(\"删除成功\"),f())})}}}),h=new Vue({el:\"#xzyh\",data:{active:!1,isAddNotAlter:!0,currentUser:\"\",currentPowerTeamName:\"\",isDisable:!1,user:{user_code:\"\",user_name:\"\",zzjg_code:\"\",user_explain:\"\",isDisable:0,powerID:\"\"},powers:{}},watch:{user:function(){0==this.user.isDisable?this.isDisable=!1:this.isDisable=!0;for(let e=0;e<this.powers.length;e++)this.powers[e].powerID==this.user.powerID&&(this.currentPowerTeamName=this.powers[e].powerTeamName)}},methods:{saveUser:function(){if(this.isAddNotAlter){let e=new FormData;e.append(\"user_code\",this.user.user_code),e.append(\"user_name\",this.user.user_name),e.append(\"zzjg_code\",this.user.zzjg_code),e.append(\"user_explain\",this.user.user_explain),1==this.isDisable?e.append(\"isDisable\",1):e.append(\"isDisable\",0),e.append(\"powerID\",document.querySelector(\"#xzyhPowerSelect\").value),fetch(\"/Users/addUser\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{console.log(e),1==e&&(f(),P(\"xzyhtab\",\"yhgltab\"),p())})}else{let e=new FormData;e.append(\"userID\",this.currentUser),e.append(\"user_code\",this.user.user_code),e.append(\"user_name\",this.user.user_name),e.append(\"zzjg_code\",this.user.zzjg_code),e.append(\"user_explain\",this.user.user_explain),1==this.isDisable?e.append(\"isDisable\",1):e.append(\"isDisable\",0),e.append(\"powerID\",this.user.powerID),fetch(\"/Users/alterUser\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{1==e&&(f(),P(\"xzyhtab\",\"yhgltab\"),p())})}},refreshUser:function(){},resetPwd:function(){}}}),a=new Vue({el:\"#qxzgl\",data:{active:!1,currentPower:\"\",powers:[],newPower:{powerTeamName:\"\",tymk:!1,yygl:!1,qxzgl:!1,cdgl:!1,qxcd:!1}},watch:{powers:function(){console.log(this.powers[0].tymk);for(let e=0;e<this.powers.length;e++)1==this.powers[e].tymk?this.powers[e].tymk=!0:0==this.powers[e].tymk&&(this.powers[e].tymk=!1),1==this.powers[e].yygl?this.powers[e].yygl=!0:0==this.powers[e].yygl&&(this.powers[e].yygl=!1),1==this.powers[e].qxzgl?this.powers[e].qxzgl=!0:0==this.powers[e].qxzgl&&(this.powers[e].qxzgl=!1),1==this.powers[e].cdgl?this.powers[e].cdgl=!0:0==this.powers[e].cdgl&&(this.powers[e].cdgl=!1),1==this.powers[e].qxcd?this.powers[e].qxcd=!0:0==this.powers[e].qxcd&&(this.powers[e].qxcd=!1)}},methods:{savePower:function(){if(\"new\"!=this.currentPower){let e;for(let t=0;t<this.powers.length;t++)this.powers[t].powerID==this.currentPower&&(e=this.powers[t]);1==e.tymk?e.tymk=1:e.tymk=0,1==e.cdgl?e.cdgl=1:e.cdgl=0,1==e.qxcd?e.qxcd=1:e.qxcd=0,1==e.yygl?e.yygl=1:e.yygl=0,1==e.qxzgl?e.qxzgl=1:e.qxzgl=0;let t=new FormData;t.append(\"tymk\",e.tymk),t.append(\"cdgl\",e.cdgl),t.append(\"qxcd\",e.qxcd),t.append(\"yygl\",e.yygl),t.append(\"qxzgl\",e.qxzgl),t.append(\"powerID\",e.powerID),fetch(\"/Users/alterPower\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{console.log(e)})}else{1==this.newPower.tymk?this.newPower.tymk=1:this.newPower.tymk=0,1==this.newPower.cdgl?this.newPower.cdgl=1:this.newPower.cdgl=0,1==this.newPower.qxcd?this.newPower.qxcd=1:this.newPower.qxcd=0,1==this.newPower.yygl?this.newPower.yygl=1:this.newPower.yygl=0,1==this.newPower.qxzgl?this.newPower.qxzgl=1:this.newPower.qxzgl=0;let e=new FormData;e.append(\"tymk\",this.newPower.tymk),e.append(\"cdgl\",this.newPower.cdgl),e.append(\"qxcd\",this.newPower.qxcd),e.append(\"qxzgl\",this.newPower.qxzgl),e.append(\"yygl\",this.newPower.yygl),e.append(\"name\",this.newPower.powerTeamName),fetch(\"/Users/addNewPower\",{method:\"post\",body:e}).then(e=>e.json()).then(e=>{console.log(e)})}},refreshPower:function(){z(),console.log(\"更新完成\")},deletePower:function(){\"new\"!=this.currentPower&&fetch(\"/Users/deletePower/\"+this.currentPower).then(e=>e.json()).then(e=>{1==e&&this.refreshPower()})}}});function S(e){fetch(\"/Medicines/fetchTymd\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.tymds=t}),fetch(\"/Medicines/fetchTymlb\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.ywlbs=t}),fetch(\"/Medicines/fetchJglb\",{method:\"post\"}).then(function(e){return e.json()}).then(function(t){e.jglbs=t})}function u(e,t){y(s.navs,{id:`${e}tab`,href:`#${e}`,text:t})&&s.navs.push({id:`${e}tab`,href:`#${e}`,text:t}),setTimeout(()=>{document.querySelector(`#${e}tab`).click()},10)}function y(e,t){for(let n=0;n<=e.length;n++)if(e[n]==t||JSON.stringify(e[n])==JSON.stringify(t))return!1;return!0}function m(){fetch(\"/Medicines/fetchMedicines\",{method:\"post\"}).then(function(e){return e.json()}).then(function(e){c.tymlist=e})}function P(e,t){let n=s.navs;for(let t=0;t<n.length;t++)n[t].id==e&&n.splice(t,1);document.querySelector(`#${t}`).click()}function f(){fetch(\"/Home/fetchUsers\").then(e=>e.json()).then(e=>{l.users=e})}function w(e){fetch(\"/SPZSJs/fetchSPZSJ/\"+e).then(e=>e.json()).then(e=>{r.sps=e})}function Y(e){fetch(\"/SPZSJs/fetchSPBZCT/\"+e).then(e=>e.json()).then(e=>{r.bzct=e})}function g(){o.isTjNoAlter=!0,o.medicineID=\"\",o.SPZSJ=new i,isSPZSJ=!0,alterSPZSJ=!1,o.SPGG=new Spgg,isSPGG=!1,alterSPGG=!1,o.SPSYZ=new Spsyz,o.isSPSYZ=!1,o.alterSPSYZ=!1,o.SPJJZ=new Spjjz,o.isSPJJZ=!1,o.alterSPJJZ=!1,o.SPBLFY=new Spblfy,o.isSPBLFY=!1,o.alterSPBLFY=!1,o.SPYWXHZY=new Spywxhzy,isSPYWXHZY=!1,alterSPYWXHZY=!1,o.SPTSRQYY=new Sptsrqyy,o.isSPTSRQYY=!1,o.alterSPTSRQYY=!1,o.isYFYL=!1,o.isStandard=!1,o.isCheck=!1,o.formData=new FormData}function p(){h.isAddNotAlter=!0,h.currentUser=\"\",h.currentPowerTeamName=\"\",h.isDisable=!1,h.user={user_code:\"\",user_name:\"\",zzjg_code:\"\",user_explain:\"\",isDisable:0,powerID:\"\"},h.powers={}}function b(){var e=r.medicine.medicineID;let t=new FormData;t.append(\"MedicineID\",e),fetch(\"/Medicines/fetchMedicineById\",{method:\"post\",body:t}).then(e=>e.json()).then(e=>{r.medicine=e[0]}),w(e),Y(e)}function Z(){fetch(\"/Users/fetchPowers\").then(e=>e.json()).then(e=>{h.powers=e})}function z(){fetch(\"/Users/fetchAllPowers\").then(e=>e.json()).then(e=>{a.powers=e})}m()}]);","extractedComments":[]}